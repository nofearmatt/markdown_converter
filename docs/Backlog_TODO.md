# Backlog / TODO (Prioritized)

Приоритеты: P0 — критично, P1 — важно, P2 — желательно

## P0 — Parser & Normalization
- [ ] Унифицированная модель диалога (role, content, timestamp, meta)
  - AC: для AI Studio, ChatGPT (official export), Claude JSON корректно извлекаются ≥95% сообщений
- [ ] Адаптер: ChatGPT экспорт (.json)
  - AC: сообщения, системные промпты, имена чатов, вложения ссылками
- [ ] Адаптер: Claude (Anthropic) экспорт (.jsonl/.json)
  - AC: поддержка минимального подмножества, пропуск мыслей
- [ ] Детектор формата (heuristics)
  - AC: опознает формат ≥95% случаев, fallback к текущей логике
- [ ] Тесты на фикстурах экспорта (минимум 10 файлов на формат)
  - AC: pytest проходит, покрытие нормализации ≥70%

## P1 — Export & Documents
- [ ] Экспорт PDF (WeasyPrint или wkhtmltopdf), опционально
  - AC: флаг в CLI/GUI, корректный PDF на базовом шаблоне
- [ ] Экспорт DOCX (python-docx), опционально
  - AC: базовый DOCX с заголовками/параграфами, без разметки кода
- [ ] Генерация индекса/оглавления по папке (index.md/html)
  - AC: список документов, даты, ссылки, сортировка
- [ ] Темы/пресеты оформления (несколько готовых тем)
  - AC: переключаемые пресеты, сохраняются в настройках

## P1 — UX & GUI
- [ ] «Недавние проекты»: список 5-10 послед.
  - AC: выпадающий список, быстрый выбор, авто-сохранение в настройках
- [ ] Drag-and-drop папок/файлов в GUI
  - AC: dnd на поле выбора source/dest, заполняет пути
- [ ] Улучшение предпросмотра: рендер HTML preview
  - AC: правый сплит с HTML-предпросмотром, обновление по кнопке
- [ ] Пресеты настроек (save/load)
  - AC: сохранение набора флагов в файл .json, загрузка из GUI/CLI

## P1 — CLI & Automation
- [ ] Расширенный CLI формат мульти-источников
  - AC: параметр `--format-src chatgpt|claude|aistudio|auto`
- [ ] Логи в файл + уровень логгирования
  - AC: `--log-file`, `--log-level`, ротация/перезапись
- [ ] Выходные коды при ошибках
  - AC: 0/1/2 для успеха/частичных/фатальных ошибок

## P2 — Stability & Perf
- [ ] Пул процессов для CPU-bound (парсинг больших JSON)
  - AC: ускорение на больших наборах ≥20%
- [ ] БОльшая устойчивость watcher (дедупликация, задержка дебаунса)
  - AC: нет повторной автоконвертации одного файла
- [ ] Кэширование шаблонов Jinja2
  - AC: снижение времени на рендер ≥15%

## P2 — DevEx & Docs
- [ ] CI: линтеры (ruff/flake8), pytest, сборка артефактов (GitHub Actions)
  - AC: зелёный билд на main, артефакт .exe/.zip
- [ ] Примеры шаблонов (md/html) и best practices
  - AC: директория `examples/templates` + README
- [ ] Расширенная документация CLI/GUI
  - AC: обновлённый README + docs/*.md